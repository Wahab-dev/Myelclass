/**
 *  Ct Master File 
 *  /*var mydata = [
	                {ctno : "L6310", agent : "MD", orderdt : "13-12-2013", pono : "20131213501 Dated 13-12-2013", exporterid: "Conceria International Pvt Ltd", tanneryid: "Conceria International Pvt Ltd", customerid : "Qingdao Hengda Group Leather Development Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "China", commission : "3 % to el class, India", othercommission : "3 % to Ming Dynasty, Hongkong", consigneeid : "Qingdao Hengda Group Leather Development Co Ltd", notifyid : "Qingdao Hengda Group Leather Development Co Ltd", pojw : "N/A", articleid : "6754", articlename : "Tumbled Soft Nappa", color : "Black", size : "12/24 S", substance : "1.2/1.4", selection : "TR", quantity : "16490", qshipped : "16404.25", qbal : "85.75", rate : "$1.85 Fob", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1489 ", reps : "MD", comments : " ", feddback : "raised debit waiting payment ", inspid : "1", inspdate : "08-01-2014 ", qualitycontroller : "Ibrahim", inspcdn : "No vein marks should be available ", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "1200 ", inspcomments : " K", invtype : "Ot", invno : "1489", invdate : "10-01-2014 ", exportersref : "NA", expname : "Conceria International Pvt Ltd ", taninvno : "CI230/13-14DT 10-01-2014 ", customer : "Qingdao Hengda Group Leather Development Co Ltd ", consignee : "Qingdao Hengda Group Leather Development Co Ltd ", notify : "Qingdao Hengda Group Leather Development Co Ltd ", totalamount : "54154.12", otherref : " ", buyer : " ", bank : " ", AWBillNo : "MAA-1226 ", AWBillDate : "15-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5881", rate : "$1.85", amt : "54154.12", debitno : "EL395/13-14", debitdate : "21-01-2014", exchgrate : "61.14", commission : "3 % to el class, India", amount : "54154.12", elclassamount : "1624.62", amountinrs : "99329.27", tax : "12277.10", totaltax : "111606.00", tds : "9932.93", totaldue : "101673.07"},
	                {ctno : "L6310", agent : "MD", orderdt : "13-12-2013", pono : "20131213501 Dated 13-12-2013", exporterid: "Conceria International Pvt Ltd", tanneryid: "Conceria International Pvt Ltd", customerid : "Qingdao Hengda Group Leather Development Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "China", commission : "3 % to el class, India", othercommission : "3 % to Ming Dynasty, Hongkong", consigneeid : "Qingdao Hengda Group Leather Development Co Ltd", notifyid : "Qingdao Hengda Group Leather Development Co Ltd", pojw : "N/A", articleid : "6755", articlename : "Tumbled Soft Nappa", color : "Kings Blue", size : "12/24 S", substance : "1.2/1.4", selection : "TR", quantity : "11470", qshipped : "11786.25", qbal : "0", rate : "$1.85 Fob", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1489 ", reps : "MD", comments : " ", feddback : "raised debit waiting payment ", inspid : "2", inspdate : "10-01-2014 ", qualitycontroller : "Ibrahim", inspcdn : "No vein marks should be available ", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "1012 ", inspcomments : " K", invtype : "Ot", invno : "1489", invdate : "10-01-2014 ", exportersref : "NA", expname : "Conceria International Pvt Ltd ", taninvno : "CI230/13-14DT 10-01-2014 ", customer : "Qingdao Hengda Group Leather Development Co Ltd ", consignee : "Qingdao Hengda Group Leather Development Co Ltd ", notify : "Qingdao Hengda Group Leather Development Co Ltd ", totalamount : "54154.12", otherref : " ", buyer : " ", bank : " ", AWBillNo : "MAA-1226 ", AWBillDate : "15-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5882", rate : "$1.85", amt : "54154.12", debitno : "EL395/13-14", debitdate : "21-01-2014", exchgrate : "61.14", commission : "3 % to el class, India", amount : "54154.12", elclassamount : "1624.62", amountinrs : "99329.27", tax : "12277.10", totaltax : "111606.00", tds : "9932.93", totaldue : "101673.07"},
	                {ctno : "L6310", agent : "MD", orderdt : "13-12-2013", pono : "20131213501 Dated 13-12-2013", exporterid: "Conceria International Pvt Ltd", tanneryid: "Conceria International Pvt Ltd", customerid : "Qingdao Hengda Group Leather Development Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "China", commission : "3 % to el class, India", othercommission : "3 % to Ming Dynasty, Hongkong", consigneeid : "Qingdao Hengda Group Leather Development Co Ltd", notifyid : "Qingdao Hengda Group Leather Development Co Ltd", pojw : "N/A", articleid : "6752", articlename : "Tumbled Soft Nappa", color : "Black", size : "12/24 S", substance : "1.2/1.4", selection : "TR", quantity : "100", qshipped : "100.00", qbal : "0", rate : "$1.85 Fob", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1489 ", reps : "MD", comments : " ", feddback : "raised debit waiting payment ", inspid : "3", inspdate : "06-01-2014 ", qualitycontroller : "Ibrahim", inspcdn : "No vein marks should be available ", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "100 ", inspcomments : " K", invtype : "Ot", invno : "1489", invdate : "10-01-2014 ", exportersref : "NA", expname : "Conceria International Pvt Ltd ", taninvno : "CI230/13-14DT 10-01-2014 ", customer : "Qingdao Hengda Group Leather Development Co Ltd ", consignee : "Qingdao Hengda Group Leather Development Co Ltd ", notify : "Qingdao Hengda Group Leather Development Co Ltd ", totalamount : "54154.12", otherref : " ", buyer : " ", bank : " ", AWBillNo : "MAA-1226 ", AWBillDate : "15-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5883", rate : "$1.85", amt : "54154.12", debitno : "EL395/13-14", debitdate : "21-01-2014", exchgrate : "61.14", commission : "3 % to el class, India", amount : "54154.12", elclassamount : "1624.62", amountinrs : "99329.27", tax : "12277.10", totaltax : "111606.00", tds : "9932.93", totaldue : "101673.07"},
	                {ctno : "L6310", agent : "MD", orderdt : "13-12-2013", pono : "20131213501 Dated 13-12-2013", exporterid: "Conceria International Pvt Ltd", tanneryid: "Conceria International Pvt Ltd", customerid : "Qingdao Hengda Group Leather Development Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "China", commission : "3 % to el class, India", othercommission : "3 % to Ming Dynasty, Hongkong", consigneeid : "Qingdao Hengda Group Leather Development Co Ltd", notifyid : "Qingdao Hengda Group Leather Development Co Ltd", pojw : "N/A", articleid : "6753", articlename : "Tumbled Soft Nappa", color : "Kings Blue", size : "12/24 S", substance : "1.2/1.4", selection : "TR", quantity : "1000", qshipped : "1000.00", qbal : "0", rate : "$1.85 Fob", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1489 ", reps : "MD", comments : " ", feddback : "raised debit waiting payment ", inspid : "4", inspdate : "06-01-2014 ", qualitycontroller : "Ibrahim", inspcdn : "No vein marks should be available ", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "100 ", inspcomments : " K", invtype : "Ot", invno : "1489", invdate : "10-01-2014 ", exportersref : "NA", expname : "Conceria International Pvt Ltd ", taninvno : "CI230/13-14DT 10-01-2014 ", customer : "Qingdao Hengda Group Leather Development Co Ltd ", consignee : "Qingdao Hengda Group Leather Development Co Ltd ", notify : "Qingdao Hengda Group Leather Development Co Ltd ", totalamount : "54154.12", otherref : " ", buyer : " ", bank : " ", AWBillNo : "MAA-1226 ", AWBillDate : "15-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5884", rate : "$1.85", amt : "54154.12", debitno : "EL395/13-14", debitdate : "21-01-2014", exchgrate : "61.14", commission : "3 % to el class, India", amount : "54154.12", elclassamount : "1624.62", amountinrs : "99329.27", tax : "12277.10", totaltax : "111606.00", tds : "9932.93", totaldue : "101673.07"},
	                {ctno : "L4850", agent : "IC", orderdt : "14-12-2013", pono : "Email Dated 14-12-2013", exporterid: "Jahan Leather Exports", tanneryid: "Jahan Leather Exports", customerid : "Nimapel International Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "Hong Kong", commission : "4 % to el class, India", othercommission : "5 % to Nimapel International, Japan", consigneeid : "Wing Kee Handbags Co Ltd", notifyid : "Wing Kee Handbags Co Ltd", pojw : "N/A", articleid : "6760", articlename : "Buff Vita", color : "Black", size : "13/18 S", substance : "1.3/1.5", selection : "ABC", quantity : "1500", qshipped : "1520.03", qbal : "0.0", rate : "$3.10 Air", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1490 ", reps : "Nima", comments : " ", feddback : "raised debit waiting payment ", inspid : "1", inspdate : "05-01-2014 ", qualitycontroller : "NA", inspcdn : "No", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "1200 ", inspcomments : " K", invtype : "Ot", invno : "1490", invdate : "11-01-2014 ", exportersref : "NA", expname : "Jahan Leather Exports", taninvno : "JLE/268/13-14 DT 11.01.14", customer : "Nimapel International Co Ltd", consignee : "Nimapel International Co Ltd", notify : "Wing Kee Handbags Co Ltd", totalamount : "9229.32", otherref : " ", buyer : " ", bank : " ", AWBillNo : "3958", AWBillDate : "17-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5885", rate : "$3.10", amt : "9229.32", debitno : "EL396/13-14", debitdate : "21-01-2014", exchgrate : "61.50", commission : "4 % to el class, India", amount : "9229.32", elclassamount : "369.17", amountinrs : "22704.13", tax : "2806.23", totaltax : "25510.00", tds : "2270.41", totaldue : "23239.59",},
	                {ctno : "L4850", agent : "IC", orderdt : "14-12-2013", pono : "Email Dated 14-12-2013", exporterid: "Jahan Leather Exports", tanneryid: "Jahan Leather Exports", customerid : "Nimapel International Co Ltd", add_date : "11-01-2014", rdd_date :"11-01-2014", destination : "Hong Kong", commission : "4 % to el class, India", othercommission : "5 % to Nimapel International, Japan", consigneeid : "Wing Kee Handbags Co Ltd", notifyid : "Wing Kee Handbags Co Ltd", pojw : "N/A", articleid : "6760", articlename : "Buff Vita", color : "DK. Brown", size : "13/18 S", substance : "1.3/1.5", selection : "ABC", quantity : "1500", qshipped : "1456.9", qbal : "43.1", rate : "$3.10 Air", tc : "0 cents IC", user : "Wahab", status : "CLOSED", invdetails : " INV 1490 ", reps : "Nima", comments : " ", feddback : "raised debit waiting payment ", inspid : "1", inspdate : "05-01-2014 ", qualitycontroller : "NA", inspcdn : "No", testid : "1 ", gradeid : "1 ", rejectsid : "1 ", totinspected : "850 ", inspcomments : " K", invtype : "Ot", invno : "1490", invdate : "11-01-2014 ", exportersref : "NA", expname : "Jahan Leather Exports", taninvno : "JLE/268/13-14 DT 11.01.14", customer : "Nimapel International Co Ltd", consignee : "Nimapel International Co Ltd", notify : "Wing Kee Handbags Co Ltd", totalamount : "9229.32", otherref : " ", buyer : " ", bank : " ", AWBillNo : "3958", AWBillDate : "17-01-2014", othercharges : "0 ", discounts : "0 ", invbillid : "5886", rate : "$3.10", amt : "9229.32", debitno : "EL396/13-14", debitdate : "21-01-2014", exchgrate : "61.50", commission : "4 % to el class, India", amount : "9229.32", elclassamount : "369.17", amountinrs : "22704.13", tax : "2806.23", totaltax : "25510.00", tds : "2270.41", totaldue : "23239.59",}
	                
	             
		    	],
		    	onSelectRow: function(id) {
	    	
	    	 * Works best if jqGrid has local data (you use datatype: 'local' or remote datatype like 
	    	 *	datatype: 'json' in combination with loadonce: true).
	    	 
	    	var localRowData = $(this).jqGrid('getLocalRow',id);
	        alert(localRowData.ctno);
	    }	
 */
$(function() { 

	mastergrid = $("#mastertarckgrid") ; 
	initDateFilter = function (elem) {
		$(elem).datepicker({
	    	beforeShowDay: function(date) {
	    		/*
	    		*Function 2 disable Sundays
	    		*/
	            var day = date.getDay();
	            return [(day != 0), ''];
	        },
	    	autoSize: true,
		    changeMonth:false,
		    dateFormat: "d-mm-yy",
		    showWeek: true,
		    firstDay: 1,
		    numberOfMonths: 1,
		    showButtonPanel: true,
		    gotoCurrent:true, 
	    });
	},
	 $('#chngroup').change(function(){
			var vl = $(this).val();
			if(vl){
				if(vl == "clear"){
					mastergrid.jqGrid('groupingRemove',true);	
					//mastergrid.jqGrid('groupColumnShow',false);
					//groupColumnShow : [false]
				}else{
					//mastergrid.jqGrid('groupingGroupBy',vl);
					mastergrid.jqGrid('groupingGroupBy', vl, {
				            groupOrder : ['desc'],
				            groupColumnShow: [false],
				            groupingView: {
				                groupCollapse: true
				            }
				        });
				}	
			}else{
				alert("Please Select field to Group");
			}
		});  //shows total qty error
	mastergrid.jqGrid({ 
		datatype: 'json',
        url:"/Myelclass/MasterInsertAction.do", 
		colNames:[
		          'Ct NO','Agent','Order Date','PO No','Exporter','Tanner','Customer','ADD','RDD','Destination','Commission','Commission1','Consignee',
				  'Notify','PO/JW No','ArticleID','Article','Color','Size','Subs','Selec','Qty','Shipped','Bal','Price','TC','User','Status',
			      'Inv Details','Reps','Comments','Feedback','inspid','Insp Date','QC','Ct No','Articleid','Article','Color',
	              'Inspn Condition','testid','gradeid','rejectsid','Tot Inspected','Insp Comments','invtype','Inv No','Inv Date','exportersref','Exp Name',
	              'Tan Inv No','Customer','Consignee','Notify','Total Asmount','Other Ref','Buyer', 'Bank','AWB/BL No','AWB/BL Date',
	              'Other Charges','Discounts','invbillid','articleid','Article','Color','Size','Subs','Selc','Qty','Pcs','Price',
		          'Qty Shpd','Q Bal','Inv Amount','Com %','Other Com%','Debit No','Debit Date',
		          'Ex-Rate','Com ', 'Inv Amt','Comm Amt','INR','Service Tax','Total','TDS',
	              'Due'
		  	      ],  
		 colModel:[
					{name:'ctno', index:'ctno',align:'center', editable:false, sortable: true, hidden:false, 
						search: true, stype:'text',searchoptions: { sopt: ['eq','ne','bw','bn','in','ni','ew','en','cn','nc','nu','nn']  } 
					},
					{name:'agent', index:'agent',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'orderdt', index:'orderdt',align:'center', editable:true, sortable: true, hidden:false, search: true, sorttype: 'date', 
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },	
					},
					{name:'pono', index:'pono',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'exporterid', index:'exporterid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'tanneryid', index:'tanneryid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'customerid', index:'customerid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'add_date', index:'add_date',align:'center', editable:false, sortable: true, hidden:false,  sorttype: 'date', search: true, 
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },	
					},
					{name:'rdd_date', index:'rdd_date',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text', sorttype: 'date',
					/*	formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },*/	
					},
					{name:'destination', index:'destination',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'commission', index:'commission',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'othercommission', index:'othercommission',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'consigneeid', index:'consigneeid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'notifyid', index:'notifyid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'pojw', index:'pojw',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'articleid', index:'articleid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'articlename', index:'articlename',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'color', index:'color',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'size', index:'size',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'substance', index:'substance',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'selection', index:'selection',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'quantity', index:'quantity',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'qshipped', index:'qshipped',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'qbal', index:'qbal',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'rate', index:'rate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'tc', index:'tc',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'user', index:'user',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'status', index:'status',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',
						
					},
					{name:'invdetails', index:'invdetails',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'reps', index:'reps',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'comments', index:'comments',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'feddback', index:'feddback',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					
					//Inspection Details
					{name:'inspid', index:'inspid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'inspdate', index:'inspdate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'date',
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },		
					},
					{name:'qualitycontroller', index:'qualitycontroller',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'contractno', index:'contractno',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'articleid', index:'articleid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'article', index:'article',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'color', index:'color',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'inspcdn', index:'inspcdn',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'testid', index:'testid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'gradeid', index:'gradeid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'rejectsid', index:'rejectsid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'totinspected', index:'totinspected',align:'center', editable:true, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'inspcomments', index:'inspcomments',align:'center', editable:true, sortable: true, hidden:false, search: true, stype:'text',},
					
					//Invoice Deatils 
					{name:'invtype', index:'invtype',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'invno', index:'invno',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'invdate', index:'invdate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'date',
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },					
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },		
					},
					{name:'exportersref', index:'exporters ref',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'expname', index:'expname',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'taninvno', index:'taninvno',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					
					{name:'customer', index:'customer',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'consignee', index:'consignee',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'notify', index:'notify',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'totalamount', index:'totalamount',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'otherref', index:'otherref',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'buyer', index:'buyer',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'bank', index:'bank',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'AWBillNo', index:'AWBillNo',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'AWBillDate', index:'AWBillDate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'date',
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },					
					},
					{name:'othercharges', index:'othercharges',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'discounts', index:'discounts',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'invbillid', index:'invbillid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'articleid', index:'articleid',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'artname', index:'artname',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'color', index:'color',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'size', index:'size',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'subs', index:'subs',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'selc', index:'selc',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'qty', index:'qty',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'pcs', index:'pcs',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'rate', index:'rate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
							           
					{name:'qshpd', index:'qshpd',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'qbal', index:'qbal',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'amt', index:'amt',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'comm', index:'comm',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'othercomm', index:'othercomm',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					
					//Debit
					{name:'debitno', index:'debitno',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'debitdate', index:'debitdate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'date',
						formatter: 'date', formatoptions: { newformat: 'd-m-Y' },
						searchoptions: {
					        searchOperators: true,
					        dataInit: initDateFilter,
							 sopt: ['eq', 'ne', 'lt', 'le', 'gt', 'ge']  
					       },		
					},
					
					{name:'exchgrate', index:'exchgrate',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'commission', index:'commission',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					
					{name:'amount', index:'amount',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'elclassamount', index:'elclassamount',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'amountinrs', index:'amountinrs',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'tax', index:'tax',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'totaltax', index:'totaltax',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'tds', index:'tds',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},
					{name:'totaldue', index:'totaldue',align:'center', editable:false, sortable: true, hidden:false, search: true, stype:'text',},				           
					],
		jsonReader : {  
		  	repeatitems:false,
		    root: "rows",
		    page: "page", //calls first
		    total: "total" ,//calls Second
		    records: "records" //calls Third
		},
		caption: "Contract Masters Tracking Details ",
		pager: '#masterpager',
		rowNum:20, 
		rowList:[20,50,60],
	    loadtext: "Bow Bow........... ",
	    height : "auto",
        width: "auto",  
	    sortname: 'invno',  
	    sortorder: 'desc',
	    viewrecords: true,
	    sortable: true,
        gridview: true , // if used cant use subgrid, treegrid and aftertInsertRow 
	    height: "100%",
	    footerrow: true,
        loadonce: true,
	   // userDataOnFooter : true,   
	    emptyrecords: 'No records to display',
	    loadComplete: function () {
            var $self = $(this),
                sum = $self.jqGrid("getCol", "quantity", false, "sum");

            $self.jqGrid("footerData", "set", {selection: "Total:", quantity: sum});
        }

	 
	 });
	mastergrid.jqGrid('navGrid','#masterpager',{
		 	edit: true,
		 	add: false,
		 	del: false, 
		 	search: true, 
 		 	view: true, 
	 },
	 {},{},{},{
		 //advance Search 
	/*	 sFilter : true,
		 multipleSearch:true,
	 	stringResult  :true,
	 	multipleGroup:true,*/
	 		
	 }).jqGrid('filterToolbar', {
		autosearch : true, searchOnEnter:true, stringResult: false
	}).jqGrid('navButtonAdd', '#masterpager', {
        caption: "Pdf",
        buttonicon: "ui-icon-print",
        title: "Print in PDF Format",
        onClickButton: downloadPdf,
    }).jqGrid('navButtonAdd', '#masterpager', {
        caption: "Excel",
        buttonicon: "ui-icon-print",
        title: "Print in Excel Format",
        onClickButton: downloadExcel,
    }).jqGrid('navButtonAdd',"#masterpager",{caption:"Toggle",title:"Toggle Search Toolbar", buttonicon :'ui-icon-pin-s',
    	onSearch: function(){
	 			alert("in b4 search ");
	 	},
    	onClickButton:function(){
			mastergrid[0].toggleToolbar();
		} 
	});
	
	/*
	*  Function to print the Master Page 
	*/
	
	function downloadPdf() 
	{
	download('pdf');
	}
	function downloadExcel() 
	{
	download('xls');
	}
	function download(type){
		//var data = mastergrid.jqGrid('getGridParam', 'postData');
		//alert(data);
		printurl = "/Myelclass/MasterInsertAction/PrintReports.do?&type="+type;
		alert(printurl);
		//start the Download
		window.location = printurl;
		
		// Show progress dialog
		$('#msgbox').text('Processing download...');
		$('#msgbox').dialog({	
			title: 'Download',
			modal: true,
			buttons: {"Close": function()  {
						$(this).dialog("close");
					} 
				}
		});
	}	
});